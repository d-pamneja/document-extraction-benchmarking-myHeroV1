<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/png" href="/images/lamatic-logo-small.png" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>MyHero Document AI Benchmark</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=JetBrains+Mono:wght@400;500;600&display=swap" rel="stylesheet">
  </head>
  <body>
    <div id="app">
      <!-- Header -->
      <header class="header">
        <div class="header-left">
          <div class="logo">
            <img src="/images/lamatic-logo-small.png" alt="Lamatic" class="logo-image" />
            <span class="logo-text">MyHero</span>
          </div>
          <span class="subtitle">Document AI Benchmark</span>
        </div>
        <div class="header-center">
          <nav class="doc-tabs">
            <button class="doc-tab active" data-doc="contract">Contract <span class="tab-meta">10pg</span></button>
            <button class="doc-tab" data-doc="fidic">FIDIC <span class="tab-meta">130pg</span></button>
            <button class="doc-tab" data-doc="lma">LMA <span class="tab-meta">339pg</span></button>
            <button class="doc-tab" data-doc="explanation">Tech Brief</button>
          </nav>
        </div>
        <div class="header-right">
          <div class="stats-badge" id="processingStats">
            <span class="stat-item"><span class="stat-label">Pages:</span> <span id="totalPages">-</span></span>
            <span class="stat-divider">|</span>
            <span class="stat-item"><span class="stat-label">Segments:</span> <span id="totalSegments">-</span></span>
            <span class="stat-divider">|</span>
            <span class="stat-item"><span class="stat-label">Blocks:</span> <span id="totalBlocks">-</span></span>
          </div>
        </div>
      </header>

      <!-- Main Content: Side-by-side -->
      <main class="main-content">
        <!-- Left Panel: PDF Viewer (collapsible) -->
        <div class="panel pdf-panel" id="pdfPanel">
          <div class="panel-header">
            <h2>Source Document</h2>
            <div class="panel-actions">
              <button id="openInTab" class="btn-action btn-action-sm" title="Open PDF in new tab">Open in Tab ↗</button>
              <button id="collapsePdf" class="btn-action btn-action-sm" title="Collapse PDF panel">◀ Hide</button>
            </div>
          </div>
          <div class="panel-body">
            <iframe id="pdfViewer" src="" title="PDF Document"></iframe>
          </div>
        </div>

        <!-- Collapse handle (visible when PDF is collapsed) -->
        <div class="panel-expand-handle hidden" id="expandHandle">
          <button id="expandPdf" title="Show PDF panel">▶<span class="expand-label">PDF</span></button>
        </div>

        <!-- Right Panel: JSON Visualization -->
        <div class="panel json-panel" id="jsonPanel">
          <div class="panel-header">
            <h2 id="jsonPanelTitle">Extracted Structure</h2>
            <div class="panel-actions">
              <button id="downloadJson" class="btn-action btn-action-sm">Download JSON</button>
              <button id="viewRawJson" class="btn-action btn-action-sm">View Raw JSON</button>
            </div>
          </div>
          <div class="panel-body panel-scroll" id="contentScroll">
            <div id="contentBody">
              <div class="loading-state">
                <div class="spinner"></div>
                <p>Loading document analysis...</p>
              </div>
            </div>
          </div>
        </div>
      </main>

      <!-- Raw JSON Modal -->
      <div id="rawJsonModal" class="modal hidden">
        <div class="modal-content">
          <div class="modal-header">
            <h3>Raw JSON Output</h3>
            <div class="modal-header-actions">
              <button id="copyJson" class="btn-action btn-action-sm">Copy to Clipboard</button>
              <button id="closeModal" class="btn-icon">✕</button>
            </div>
          </div>
          <pre id="rawJsonContent"></pre>
        </div>
      </div>

      <!-- Footer -->
      <footer class="footer">
        <div class="footer-content">
          <div class="footer-branding">
            <img src="/images/lamatic-logo.png" alt="Lamatic.ai" class="footer-logo" />
            <span class="footer-text">Built with Lamatic.ai - Powering intelligent document analysis</span>
          </div>
        </div>
      </footer>
    </div>
    <script type="module" src="/main.js"></script>
  </body>
</html>
